{% extends "base.html" %}
{% block content %}
<div class="card card-glass p-4">
  <h3 class="mb-1">{{ subject }} - {{ level }} Quiz</h3>
  <p class="text-muted mb-4">Answer all questions and submit to see your score.</p>

  <form method="post" action="{{ url_for('quiz') }}">
    <input type="hidden" name="subject" value="{{ subject }}">
    <input type="hidden" name="level" value="{{ level }}">
    <input type="hidden" name="question_ids" value="{{ ','.join(q.id|string for q in questions) }}">

    {% for q in questions %}
      <div class="mb-4 p-3 rounded bg-dark bg-opacity-50">
        <h5>Q{{ q.number }}. {{ q.question_text }}</h5>
        <div class="mt-2">
          <div class="form-check">
            <input class="form-check-input" type="radio" name="q_{{ q.id }}" id="q{{ q.id }}_A" value="A">
            <label class="form-check-label" for="q{{ q.id }}_A">
              A) {{ q.option_a }}
            </label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" name="q_{{ q.id }}" id="q{{ q.id }}_B" value="B">
            <label class="form-check-label" for="q{{ q.id }}_B">
              B) {{ q.option_b }}
            </label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" name="q_{{ q.id }}" id="q{{ q.id }}_C" value="C">
            <label class="form-check-label" for="q{{ q.id }}_C">
              C) {{ q.option_c }}
            </label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" name="q_{{ q.id }}" id="q{{ q.id }}_D" value="D">
            <label class="form-check-label" for="q{{ q.id }}_D">
              D) {{ q.option_d }}
            </label>
          </div>
        </div>
      </div>
    {% endfor %}

    <button class="btn btn-primary btn-lg w-100 mt-3">Submit Quiz</button>
  </form>
</div>
{% endblock %}
